global:
  environment: production
  imagePullPolicy: Always

nameOverride: ""
fullnameOverride: "imagineai"

image:
  registry: ""
  tag: "latest"

# FastAPI API Server
fastapi:
  enabled: true
  replicaCount: 2
  image:
    repository: imagineai/backend
    tag: ""
  port: 8000
  workers: 4
  resources:
    requests:
      cpu: 250m
      memory: 512Mi
    limits:
      cpu: "1"
      memory: 1Gi
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilization: 70
    targetMemoryUtilization: 80
  nodeSelector: {}
  tolerations: []
  affinity: {}

# Django Admin
django:
  enabled: true
  replicaCount: 1
  image:
    repository: imagineai/django-admin
    tag: ""
  port: 8001
  workers: 2
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  nodeSelector: {}
  tolerations: []
  affinity: {}

# Celery Worker
celeryWorker:
  enabled: true
  replicaCount: 2
  image:
    repository: imagineai/celery-worker
    tag: ""
  concurrency: 4
  queues: "image_processing,ml_analysis,notifications"
  resources:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: "2"
      memory: 4Gi
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 8
    targetCPUUtilization: 70
  nodeSelector: {}
  tolerations: []
  affinity: {}

# Celery Beat Scheduler
celeryBeat:
  enabled: true
  image:
    repository: imagineai/celery-worker
    tag: ""
  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi

# Angular Frontend
frontend:
  enabled: true
  replicaCount: 2
  image:
    repository: imagineai/frontend
    tag: ""
  port: 80
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

# Ingress
ingress:
  enabled: true
  className: nginx
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
    nginx.ingress.kubernetes.io/proxy-body-size: "50m"
  hosts:
    app: imagineai.example.com
    api: api.imagineai.example.com
    admin: admin.imagineai.example.com
  tls:
    enabled: true
    secretName: imagineai-tls

# Service Account
serviceAccount:
  create: true
  name: imagineai-sa
  annotations: {}

# ConfigMap values
config:
  logLevel: info
  logFormat: json
  corsOrigins: "https://imagineai.example.com"
  db:
    host: imagineai-postgresql
    port: "5432"
    name: imagineai
    poolSize: "20"
    maxOverflow: "10"
  redis:
    host: imagineai-redis-master
    port: "6379"
  s3:
    bucketName: imagineai-uploads
    region: us-east-1
  ml:
    modelPath: /app/ml/weights
    batchSize: "16"
    device: auto

# Secrets â€” provide via --set or external secret manager
secrets:
  databaseUrl: ""
  jwtSecretKey: ""
  djangoSecretKey: ""
  bedrockModelId: "anthropic.claude-3-5-sonnet-20241022-v2:0"

# Monitoring
monitoring:
  enabled: true
  serviceMonitor:
    enabled: true
    interval: 30s

# Bitnami sub-chart overrides
postgresql:
  enabled: false

redis:
  enabled: false

rabbitmq:
  enabled: false
